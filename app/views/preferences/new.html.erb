
<body class='view4'>
  <div class='container profile-container' >

    <% if !flash[:alert].nil? %>
    
      <div class="alert alert-info">     
        <% errors = flash[:alert] %>
        <p><%= pluralize(errors.count, "error") %> prohibited this preference from being saved:</p>
        <ul>
          <% errors.each do |type, message| %>
            <% if type == "first" || type == "second" || type == "third"%>
              <% type = type + " choice"%>
            <% end %>
            <% message.each do |error|%>
              <li> <%= type + " " + error %> </li>
            <% end %>
          <% end %>
        </ul>
      </div>
      
    <% end %>
   

    <div class= 'signup-form'>

    <div class='container' id='new-preference-container-1' >
    <h5 class='preference-title'> Create Preference for: <span><%= @course.name %></span> </h5>
    <div class="row">
      <div class="column preference-form-column" >
        <%= form_with(model: @preference, local: true)do |f| %>
            <div class="alert alert-danger d-none">Please review the problems below:</div>
            <%= f.label 'First Choice: '%> <sup>*</sup>
            <%= f.collection_select :first, @projects.order(:project_name), :id, :project_name, {:include_blank=> true}, {:style => "width:250px; float:right"} %>
            <br><br>
            <%= f.label 'Second Choice: '%>
            <%= f.collection_select :second, @projects.order(:project_name), :id, :project_name, {:include_blank=> true}, {:style => "width:250px; float:right"} %>
            <br><br>
            <%= f.label 'Third Choice: '%>
            <%= f.collection_select :third, @projects.order(:project_name), :id, :project_name, {:include_blank=> true}, {:style => "width:250px; float:right"} %>
            <br><br>
            <%= f.label 'Coding Proficiency:' %>
            
            <%= f.collection_radio_buttons :codingProficiency, [[1,1],[2,2],[3,3],[4,4],[5,5]], :first, :last, { item_wrapper_tag: false },{:style=>"
            margin-left: 24px; margin-right:5px"}%>
            <br><br>
            <%= f.label 'Dream Partner'%>
            <%= f.collection_select :dreampartner, @course.students.order(firstname: :asc, lastname: :asc), :id, :full_name, {:include_blank=> true}, {:style => "width:250px; float:right"}%>


            <br><br>
            <%= f.label 'Select Your Free Time for Group Meeting'%>
            <div class="input-group mb-3">
            
              <%= f.search_field :schedule, class:"form-control showCalendar", id:"fullcalendar"%>

            <div class="container m-t-20">
                <div id="outline">
                  <div id = 'calendarForm'>
                    <div id = 'calendar'></div>
                    <div class='btn btn-primary submitCalendar'> submit calendar </div>
                  </div>
                </div>
            </div>  


            <%= f.hidden_field :student_id, :value => current_user.id%>
            <%= f.hidden_field :course_id, :value => @course.id%>

            <div class="preference-button-row" >
              <%= submit_tag("Submit", class: "btn btn-primary submitButton") %>
              <button class="btn btn-outline-primary addButton" type="reset">Reset</button>
            </div>
          </div>   
        <% end %>
        <%= link_to 'Back to Course Page', @course , class:"preference-back"%>
      </div>
    
    </div>
    </div>

    </div>
  </div>
</body>
  
<script>


</script>